var zGallery=function(){var p,k,g,b,s,d,l,r,q={},t={},v,e={user:{},plugin:{menuId:"z-Gallery-menu",cssPath:"css/zg-style.min.css",loadCssAsync:!0}},u={previewHeight:50,background:"#000",delay:2500,autoPreload:!0,prefix:"zg-img",animation:!0,lang:"eng"},w={eng:{0:"Image",1:"from"},ru:{0:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",1:"\u0438\u0437"},ua:{0:"\u0417\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u043d\u044f",1:"\u0437"},esp:{0:"Imagen",1:"de"}};p={fatal:function(a,c){a=
"zGallery Fatal Error :: "+a;c&&alert(a);throw Error(a);},warning:function(a){console.warn("zGallery Warning :: "+a)}};s={workspaceCreation:function(){d.wrapper.className="fade-in";r.update()},workspaceDestroy:function(){d.wrapper.className="fade-out";setTimeout(function(){document.body.removeChild(d.wrapper)},500)},imageSwitch:function(a){b.active.className="fade-out";setTimeout(function(){b.readyToSwitch(a);b.active.className="fade-in"},300)}};d={createWorkSpace:function(){this.wrapper=document.createElement("div");
this.wrapper.id="fullscreen-wrapper";this.wrapper.style.width="100%";this.wrapper.style.height="100%";this.wrapper.style.position="absolute";this.wrapper.style.top=window.pageYOffset+"px";this.wrapper.style.left="0px";this.wrapper.style.background=e.user[this.activeEl].background;this.wrapper.style.zIndex=2;document.body.appendChild(this.wrapper);this.addMenu();l.init();e.user[this.activeEl].animation?s.workspaceCreation():r.update()},addMenu:function(){var a=document.createElement("div");a.id=e.plugin.menuId;
a.innerHTML="<div id='z-Gallery-menu-left-column'>"+w[e.user[this.activeEl].lang][0]+" <span id='z-Gallery-menu-image-id'>1</span> "+w[e.user[this.activeEl].lang][1]+" <span id='z-Gallery-menu-image-all'></span></div><div id='z-Gallery-menu-center-column'><div id='z-Gallery-first-image'></div><div id='z-Gallery-prev-image'></div><div id='z-Gallery-next-image'></div><div id='z-Gallery-last-image'></div></div><div id='z-Gallery-menu-right-column'><div id='z-Gallery-slideshow' class='z-Gallery-slideshow-start'></div><div id='z-Gallery-fullscreen-icon'></div><div id='z-Gallery-close-icon'></div></div>";
this.wrapper.appendChild(a);this.windowHeight=window.innerHeight-a.offsetHeight;document.getElementById("z-Gallery-menu-image-all").innerHTML=q[this.activeEl].length},updateStage:function(a){if(b.isDisplayed&&b.active)try{this.wrapper.removeChild(b.active)}catch(c){}this.wrapper.appendChild(a);document.getElementById("z-Gallery-menu-image-id").innerHTML=parseInt(a.id)+1},destroyStage:function(){b.isDisplayed&&(b.isDisplayed=!1,g("stop"),e.user[this.activeEl].animation?s.workspaceDestroy():document.body.removeChild(this.wrapper),
r.restore())},fullscreenMode:function(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():this.wrapper&&(this.wrapper.requestFullscreen?this.wrapper.requestFullscreen():this.wrapper.mozRequestFullScreen?this.wrapper.mozRequestFullScreen():this.wrapper.webkitRequestFullscreen?this.wrapper.webkitRequestFullscreen():
this.wrapper.msRequestFullscreen&&this.wrapper.msRequestFullscreen(),this.fullscreenMode.styleTopBefore=this.wrapper.style.top,this.wrapper.style.top="0px",this.fullscreenModeEnabled=!0)},exitFullscreen:function(a){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||(d.wrapper.style.top=d.fullscreenMode.styleTopBefore+"px",d.fullscreenModeEnabled=!1)}};k={load:function(){if(e.plugin.loadCssAsync){var a=document.createElement("link"),c;a.setAttribute("rel",
"stylesheet");a.setAttribute("href",e.plugin.cssPath);document.getElementsByTagName("head")[0].appendChild(a);c=setInterval(function(){k.loaded?clearInterval(c):p.warning("Can't load stylesheet")},3E3);setTimeout(function(){k.loaded||(clearInterval(c),k.onFail())},25E3);a.onload=function(){k.loaded=!0}}else k.loaded=!0},onFail:function(){p.fatal("Stylesheet can't be loaded",!0)}};l={init:function(){document.getElementById("z-Gallery-menu").onclick=function(a){a=a.target.id;a!=e.plugin.menuId&&("z-Gallery-slideshow"===
a?g():"z-Gallery-fullscreen-icon"===a?d.fullscreenMode():"z-Gallery-close-icon"===a?d.destroyStage():"z-Gallery-prev-image"===a?b.open(4):"z-Gallery-next-image"===a?b.open(2):"z-Gallery-first-image"===a?b.open(1):"z-Gallery-last-image"===a&&b.open(3))};window.onkeydown=function(a){l.keyboard(a)};d.wrapper.onclick=function(a){l.mouse(a)};window.onresize=function(){d.wrapper.style.width="100%";d.wrapper.style.height="100%";d.windowHeight=window.innerHeight-document.getElementById(e.plugin.menuId).offsetHeight;
b.moveToCenter()};document.addEventListener("fullscreenchange",d.exitFullscreen);document.addEventListener("webkitfullscreenchange",d.exitFullscreen);document.addEventListener("mozfullscreenchange",d.exitFullscreen)},keyboard:function(a){27==a.keyCode?d.fullscreenModeEnabled||d.destroyStage():38==a.keyCode?b.open(1):39==a.keyCode?b.open(2):40==a.keyCode?b.open(3):37==a.keyCode?b.open(4):13==a.keyCode?d.fullscreenMode():32==a.keyCode&&g()},mouse:function(a){a.pageY<=d.windowHeight&&(a.pageX>=window.innerWidth/
2?b.open(2):b.open(4))},openImage:function(a,c){a.onclick=function(a){if(k.loaded)d.activeEl=a.target.parentNode.id,d.createWorkSpace(),b.open(null,a.target),c.slideshow&&g("start");else k.onFail()}}};b={createPreview:function(a,c,d){var b=a.length;for(b;b--;){a[b].style.height=d.previewHeight+"px";a[b].id=b+"-"+c+"-"+d.prefix;if(d.autoPreload){var f=new Image;f.src=a[b].src;f.id=a[b].id+"-big";t[a[b].src]=f}l.openImage(a[b],d)}},calcNextId:function(a){var c=parseInt(this.active.id),b=q[d.activeEl].length;
if(2==a){if(c+=1,c==b)return g("stop"),!1}else if(4==a){if(c-=1,0>c)return g("stop"),!1}else if(1==a)if(0<c)c=0;else return!1;else if(3==a)if(a=b-1,c!=a)c=a;else return!1;return c},open:function(a,c){var m,e;"undefined"===typeof c?(m=this.calcNextId(a),"number"===typeof m&&(e=q[d.activeEl][m].src)):(m=parseInt(c.id),e=c.src);if("number"===typeof m)if(t[e])this.onLoad(t[e],m);else{var f=new Image;f.src=e;t[e]=f;f.onload=function(){b.onLoad(f,m)}}},onLoad:function(a,c){a.id=c+"-"+d.activeEl+"-"+e.user[d.activeEl].prefix+
"-big";this.isDisplayed&&e.user[d.activeEl].animation?s.imageSwitch(a):this.readyToSwitch(a)},readyToSwitch:function(a){d.updateStage(a);a.className="";this.active=a;this.isDisplayed=!0;this.moveToCenter()},moveToCenter:function(){var a=this.active.naturalWidth,c=this.active.naturalHeight,b=window.innerWidth;a>b&&c>d.windowHeight?c/a*b>d.windowHeight?(this.active.style.height=d.windowHeight+"px",this.active.style.width=d.windowHeight*a/c+"px"):(this.active.style.width=b+"px",this.active.style.height=
b*c/a+"px"):c>d.windowHeight?(this.active.style.height=d.windowHeight+"px",this.active.style.width=d.windowHeight*a/c+"px"):a>b?(this.active.style.width=b+"px",this.active.style.height=b*c/a+"px"):(this.active.style.width=a+"px",this.active.style.height=c+"px");this.active.style.position="absolute";this.active.style.top=d.windowHeight/2-parseInt(this.active.style.height)/2+"px";this.active.style.left=b/2-parseInt(this.active.style.width)/2+"px";this.active.style.zIndex=1}};g=function(a){var c=document.getElementById("z-Gallery-slideshow");
"undefined"===typeof a&&(g.isActive?a="stop":a="start");"start"==a?(setTimeout(function(){b.open(2);v=setInterval(function(){b.open(2)},e.user[d.activeEl].delay)},150),g.isActive=!0):"stop"==a&&(clearInterval(v),g.isActive=!1);"start"==a?a="stop":a="start";c.className="z-Gallery-slideshow-"+a};r={save:function(){this.setups={style:[document.body.style.cssText,document.documentElement.style.cssText],script:{onkeydown:window.onkeydown,onresize:window.onresize}}},restore:function(){document.body.style.cssText=
this.setups.style[0];document.documentElement.style.cssText=this.setups.style[1];window.onkeydown=this.setups.script.onkeydown;window.onresize=this.setups.script.onresize},update:function(){document.body.style.cssText="overflow: hidden; height:100%; padding: 0px; margin: 0px; z-index: 1; -webkit-user-select: none;-moz-user-select: -moz-none;-ms-user-select: none; user-select: none;";document.documentElement.style.cssText="overflow:hidden; height:100%"}};return{init:function(){var a=arguments.length,
c=0;for(c;c<a;c++)if("string"==typeof arguments[c]){var d=arguments[c].replace(/\s/g,"").split(","),g=d.length,f,h,l;if("object"==typeof arguments[c+1]){f=function(){};f.prototype=arguments[c+1];f=new f;for(var n in u)"undefined"===typeof f[n]&&(f[n]=u[n])}else f=u;for(g;g--;)if(h=d[g],(l=document.getElementById(h))?(q[h]=l.getElementsByTagName("img"),0===q[h].length?p.warning('In element "#'+h+'" that passed to plugin does not have image'):b.createPreview(q[h],h,f)):p.fatal('The DOM element "#'+
h+'" passed plugin does not exist',!0),"undefined"===typeof e[h])for(n in e.user[h]=f,e.plugin)"undefined"!==typeof f[n]&&(e.plugin[n]=f[n]);else p.warning('The element "#'+h+'" is already in use')}r.save();k.load()}}}();